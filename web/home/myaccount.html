<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Avishka Chamod | Profile</title>
        <link rel="shortcut icon" href="../assets/icons/icon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="../assets/style/myaccount.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <!-- Notify.js (element-based, works without Bootstrap) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"></script>
    </head>
    <body onload="loadMyAccHeader();">

        <div id="header-section"> </div>

        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="#">Homepage</a> > My Account
        </div>

        <!-- Layout -->
        <div class="account-layout" id="account-layout">

            <!-- Sidebar -->
            <aside class="sidebar">
                <ul>
                    <li class="active" data-tab="details"><i class="bi bi-person"></i> Details</li>
                    <li data-tab="address" onclick="loadCitySelection(); loadUserAddress();" ><i class="bi bi-geo-alt"></i> Address Book</li>
                    <li data-tab="orders" onclick="loadOrderHistory();"><i class="bi bi-bag"></i> Orders</li>
                    <li data-tab="payment"><i class="bi bi-credit-card"></i> Payment Info</li>
                    <li data-tab="messages"><i class="bi bi-chat-dots"></i> Messages</li>
                    <li data-tab="seller" onclick="loadSellerInfo();"><i class="bi bi-shop"></i> Seller Account</li>
                    <li data-tab="settings"><i class="bi bi-gear"></i> Settings</li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="main-content">

                <!-- My Details -->
                <div id="details" class="tab-panel active">
                    <h1 id="notify">My Details</h1>
                    <div class="section">
                        <h2> Personal Information</h2>

                        <label>First Name</label>
                        <input type="text" id="fName">

                        <label>Last Name</label>
                        <input type="text" id="Lname">

                        <label>Registered Date</label>
                        <input type="date" id="regDate" disabled>

                        <br/>
                        <button onclick="updateUserBaseInfo();" class="sv-btn">Save</button>
                    </div>
                    <div class="section">
                        <h2>E-mail Address</h2>
                        <label>Email Address</label>
                        <input type="email" value="email@example.pl" id="email">
                        <br/>
                        <button onclick="updateUserEmail();" class="e-btn">Update Email</button>
                    </div>

                    <div class="section-b">
                        <h2>Contact Info</h2>
                        <label>Mobile Phone Number</label>
                        <input  id="mobileNumber">
                        <br/>
                        <button onclick="updateUserContact();" class="c-btn">Update Number</button>
                    </div>

                </div>

                <!-- Address Book -->
                <div id="address" class="tab-panel">
                    <h1>My Address</h1>
                    <label>Street</label>
                    <input type="text" placeholder="123 Main St" id="line1">

                    <label>Address Line 2</label>
                    <input type="text" placeholder="Katugasthota" id="line2">

                    <label>City</label>
                    <select id="city-select">
                        <option value="">Select</option>
                    </select>

                    <label>Postal Code</label>
                    <input type="text" placeholder="12345" id="postl-code">


                    <br/>
                    <button onclick="updateUserAddress();" class="a-btn">Update Address</button>

                </div>

                <!-- Orders -->
                <div id="orders" class="tab-panel">
                    <h1 id="my-orders" >My Orders</h1>
                                        
                    <div class="order-account-card" id="order-history-container" >
                        <div class="order-account-header">
                        </div>

                        <div class="order-account-body">
                        </div>

                        <div class="order-account-footer">
                        </div>
                    </div>
                </div>
                
                


                <!-- Payment Info -->
                <div id="payment" class="tab-panel">
                    <h1>Payment Information</h1>
                    <form>
                        <label>Card Number</label>
                        <input type="text" placeholder="**** **** **** 1234">
                        <label>Card Type</label>
                        <select>
                            <option>Visa</option>
                            <option>MasterCard</option>
                            <option>Amex</option>
                        </select>
                        <button>Add Card</button>
                        <button type="button" class="danger">Remove Card</button>
                    </form>
                    <div class="section">
                        <h2>Saved Cards</h2>
                        <div class="list-box">
                            <strong>Visa</strong> **** **** **** 1234 <br> Exp: 08/27
                        </div>
                    </div>
                </div>

                <!-- Messages -->
                <div id="messages" class="tab-panel">
                    <h1>Messages</h1>
                    <div class="list-box">
                        <strong>From: Support Team</strong>
                        Subject: Order Update <br>
                        Date: 2025-08-22 <br>
                        Preview: Your order #1001 has been shipped...
                    </div>
                    <div class="list-box">
                        <strong>From: Seller GreenTech</strong>
                        Subject: Special Offer <br>
                        Date: 2025-08-10 <br>
                        Preview: Get 20% off your next purchase...
                    </div>
                </div>

                <!-- Seller Account -->
                <div id="seller" class="tab-panel seller-tab">
                    <h1>Seller Account</h1>
                    <div class="list-box" id="list-box">
                        <h2>You don't have Activated a Seller Profile</h2>
                        <button onclick="openPopup();">Activate Seller Profile</button>
                    </div>


                    <div class="list-box list-box2" style="width: 50%;" id="list-box2">
                        <label>Seller Name</label>
                        <input type="text"  id="seller-name-input">

                        <label>Registered Date</label>
                        <input type="text"  id="seller-date-input" disabled>
                        <br/>
                        <button class="btn-grey btn-sel-tt" onclick="updateSellerName();">Update Seller Name</button>
                        <button>Go to Seller Profile</button>
                    </div>

                </div>

                <!-- Settings -->
                <div id="settings" class="tab-panel">
                    <h1>Account Settings</h1>
                    <div class="section">
                        <h2>Reset Password</h2>
                        <label>Current Password</label>
                        <input type="password" id="currentPass">

                        <label>New Password</label>
                        <input type="password" id="newPassw">

                        <label>Confirm New Password</label>
                        <input type="password" id="confPass">
                        <br/>
                        <button class="btn-c-pass" onclick="ChangeUserPassword();">Reset Password</button>
                        <a class="fp-a" href="http://localhost:8080/InkSpire/account/passwordrecover.html">Forget Password?</a>
                    </div>
                </div>

            </main>
        </div>

        <!-- Background Overlay -->
        <div class="popup-overlay" id="popupOverlay">
            <div class="recovery-card">
                <button class="close-btn" onclick="closePopup()">
                    <i class="bi bi-x-lg"></i>
                </button>

                <div class="recovery-container">
                    <h2 class="recovery-title">Activate Seller Profile</h2>
                    <p class="recovery-subtitle">Create Your account and Start Selling</p>

                    <!-- Email + Code Section -->
                    <div id="get-code-section" >
                        <div class="recovery-field">
                            <input type="email" id="email-seller" class="recovery-input" placeholder=" " required>
                            <label for="email" class="recovery-label">Email</label>
                        </div>
                        <button type="button" class="recovery-btn btn-grey" onclick="sendMail();">Get Code</button>

                        <div class="recovery-field" style="margin-top: 1.3rem;">
                            <input type="text" id="code" class="recovery-input" placeholder=" " required>
                            <label for="code" class="recovery-label">Enter Code</label>
                        </div>
                        <button type="button" class="recovery-btn btn-green btncode" onclick="verifyCode();">Reset</button>
                    </div>

                    <!-- New Password Section -->
                    <div id="password-section" class="hidden-section">
                        <div class="recovery-field">
                            <input type="text" id="username" class="recovery-input" placeholder=" " required>
                            <label for="new-password" class="recovery-label">Enter Your Seller Name</label>
                        </div>
                        <button type="submit" class="recovery-btn btn-green btnac" onclick="activateSellerAccount();">Activate</button>
                        <a class="back-btn-link-a" href="">Back to Home</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap Icons -->


        <div id="footer-section"> </div>

        <script src="../assets/js/myaccount.js"></script>
        <script src="../assets/js/home.js"></script>
        <script src="../assets/js/loader.js"></script>

    </body>
</html>
