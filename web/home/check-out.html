<!DOCTYPE html>
<html lang="en">
  <head>
        <title>InkSpire | Check Out</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="../assets/icons/icon.ico" type="image/x-icon" />
        <link rel = "stylesheet" href="../assets/style/check-out.css">
        <script src="https://www.payhere.lk/lib/payhere.js"></script>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
            />
    </head>
    <body onload="loadCheckOutSummry(); loadUserData(); loadUserAddress();">
    <div class="check-out-container">
      <h1 class="check-out-title">InkSpire - Secure Checkout</h1>

      <div class="check-out-layout">
        <!-- Left Side: Checkout Steps and Forms -->
        <div class="check-out-main">
          <div class="check-out-card">
            <!-- Step Indicator -->
            <div id="check-out-steps" class="check-out-steps">
              <div class="check-out-step">
                <span id="step-1-status" class="check-out-step-number active"
                  >1</span
                >
                <p class="check-out-step-label">Personal Info</p>
              </div>
              <div class="check-out-step">
                <span id="step-2-status" class="check-out-step-number">2</span>
                <p class="check-out-step-label">Shipping</p>
              </div>
              <div class="check-out-step">
                <span id="step-3-status" class="check-out-step-number">3</span>
                <p class="check-out-step-label">Payment</p>
              </div>
            </div>

            <!-- Step 1: User Data -->
            <form id="check-out-step-1" class="check-out-form">
              <h2 class="check-out-form-title">1. Personal Information</h2>

              <div class="check-out-grid">
                <div class="check-out-field">
                  <label for="firstName">First Name</label>
                  <input type="text" id="firstName" name="firstName" disabled />
                </div>
                <div class="check-out-field">
                  <label for="lastName">Last Name</label>
                  <input type="text" id="lastName" name="lastName" disabled />
                </div>
              </div>

              <div class="check-out-field">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" disabled />
              </div>

              <div class="check-out-field">
                <label for="contact">Contact / Phone Number</label>
                <input type="tel" id="contact" name="contact" disabled />
              </div>

              <div class="check-out-actions">
                <button
                  type="button"
                  onclick="nextStep(2)"
                  class="check-out-btn-primary"
                >
                  Next Section
                </button>
              </div>
            </form>

            <!-- Step 2: Shipping -->
            <form id="check-out-step-2" class="check-out-form hidden">
              <h2 class="check-out-form-title">2. Shipping Details</h2>
              
              <input type="text" id="addressId" name="address1" style="display: none" />
              
              <div class="check-out-field">
                <label for="address1">Address Line 1</label>
                <input type="text" id="address1" name="address1" disabled />
              </div>
              <div class="check-out-field">
                <label for="address2">Address Line 2 (Optional)</label>
                <input type="text" id="address2" name="address2" disabled/>
              </div>

              <div class="check-out-grid">
                <div class="check-out-field">
                  <label for="city">City</label>
                  <select id="city" name="city" disabled>
                    <option value="">Select your city</option>
                  </select>
                </div>
              </div>

              <div class="check-out-field">
                <label for="zipCode">Zip / Postal Code</label>
                <input type="text" id="zipCode" name="zipCode" disabled />
              </div>

              <div class="check-out-actions">
                <button
                  type="button"
                  onclick="prevStep(1)"
                  class="check-out-btn-secondary"
                >
                  Previous Section
                </button>
                <button
                  type="button"
                  onclick="nextStep(3)"
                  class="check-out-btn-primary"
                >
                  Next Section
                </button>
              </div>
            </form>

            <!-- Step 3: Payment -->
            <div id="check-out-step-3" class="check-out-form hidden">
              <h2 class="check-out-form-title">3. Payment Information</h2>

              <div class="check-out-payment-box">
                <h3 class="check-out-payment-title">Pay with PayHere</h3>

              </div>

              <div class="check-out-actions">
                <button
                  type="button"
                  onclick="prevStep(2)"
                  class="check-out-btn-secondary"
                >
                  Previous Section
                </button>
                  <button type="button" class="check-out-btn-primary" onclick="pay();">
                  Place Order
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Side: Order Summary -->
        <div class="check-out-sidebar">
          <div class="check-out-card">
            <h2 class="check-out-form-title">Order Summary</h2>

            <div id="check-out-item-list" class="check-out-item-list">
              <!-- Cart Item 2 -->
              <div class="check-out-item" id="check-out-item">
                <img
                  src="https://placehold.co/80x100/1e293b/ffffff?text=Book2"
                  alt="Code Alchemy"
                  class="check-out-item-img"
                />
                <div class="check-out-item-details">
                 <p class="check-out-item-price"></p>
                  <h4 class="check-out-item-name">
                  </h4>
                  <p class="check-out-item-price"></p>
                  <button
                    class="check-out-remove-btn"
                    onclick="removeFromCart(102)"
                  >
                    Remove
                  </button>
                </div>
              </div>
            </div>

            <!-- Total Price -->
            <div class="check-out-total">
              <span class="check-out-total-label">Total Price:</span>
              <span id="total-price" class="check-out-total-value"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

      <script src="../assets/js/check-out.js"></script>
      
  </body>
</html>
