<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>InkSpire Admin Panel</title>
        <link rel="stylesheet" href="../assets/style/adminpanel.css">
        <link rel="shortcut icon" href="../assets/icons/icon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"></script>  
    </head>
    <body onload="loadListingApprovalAdmin(); loadListingData(); loadOffers(); loadSelectorOffers();">

        <header>
            <div class="left">
                <i class="bi bi-arrow-left-circle" onclick="history.back()"></i>
                <span><strong>Admin:</strong> John Doe</span>
            </div>
            <nav>
                <a href="#"><i class="bi bi-house-door"></i> Home</a>
                <a href="#"><i class="bi bi-inbox"></i> Inbox</a>
            </nav>
        </header>

        <!-- Layout -->
        <div class="account-layout">
            <aside class="sidebar">
                <ul>
                    <li class="active" data-tab="listings"><i class="bi bi-box-seam"></i> Listings</li>
                    <li data-tab="stats"><i class="bi bi-bar-chart-line"></i> Stats</li>
                    <li data-tab="users"><i class="bi bi-people"></i> User Management</li>
                    <li data-tab="offers"><i class="bi bi-gift"></i> Offers</li>
                    <li data-tab="utility"><i class="bi bi-tools"></i> Utility Manager</li>
                    <li data-tab="addlisting"><i class="bi bi-plus-circle"></i> Add Listings</li>
                    <li data-tab="listingmanager"><i class="bi bi-pencil-square"></i> Listing Manager</li>
                </ul>
            </aside>


            <main class="main-content">


                <div id="listings" class="tab-panel active">
                    <h1>Listing Management</h1>
                    <div class="listings-grid" id="listings-grid">
                    </div>
                </div>


                <div id="stats" class="tab-panel">
                    <h1>Platform Statistics</h1>
                    <div class="status-cards">
                        <div class="card"><h2>Active Listings</h2><p>320</p></div>
                        <div class="card"><h2>Orders Placed</h2><p>540</p></div>
                        <div class="card"><h2>Delivered Orders</h2><p>500</p></div>
                        <div class="card"><h2>Canceled Orders</h2><p>40</p></div>
                        <div class="card"><h2>Total Earnings</h2><p>$52,300</p></div>
                    </div>
                </div>

                <div id="users" class="tab-panel">
                    <h1>User Management</h1>
                    <table class="user-table">
                        <thead>
                            <tr><th>Name</th><th>Email</th><th>Role</th><th>Joined</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Alice</td><td>alice@mail.com</td><td>Seller</td><td>2025-07-01</td></tr>
                            <tr><td>Bob</td><td>bob@mail.com</td><td>Buyer</td><td>2025-07-20</td></tr>
                        </tbody>
                    </table>
                </div>


                <div id="offers" class="tab-panel">
                    <h1>Offers Management</h1>
                    <div class="offers-layout">
                        <div class="offers-left">
                            <div class="listing-form">
                                <h2>Add Offer</h2>
                                <label>Offer Name</label>
                                <input type="text" id="offerValue" placeholder="Enter value ">
                                <button type="submit" class="bre-button full" onclick="addNewOffers();">Add Offer</button>
                            </div>
                            <h2>Existing Offers</h2>
                            <div id="offersList" class="offers-grid"></div>
                        </div>
                        <div class="offers-right">
                            <div class="listing-form">
                                <h2>Assign Product to Offer</h2>
                                <label>Listing ID</label>
                                <input type="number" id="productIdInput" placeholder="Enter Listing ID">
                                <label>Select Offer</label>
                                <select id="offerSelect">
                                    <option>Select</option>
                                </select>
                                <button class="bre-button full" id="assignProductBtn" onclick="addNewProductOffer();">Add to Offer</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="utility" class="tab-panel">
                    <h1>Utility Manager</h1>
                    <h2>Add New Category</h2>
                    <input type="text" placeholder="Enter category name" id="new-category-input" >
                    <button class="bre-button" onclick="addNewCategory();">Add Category</button>
                    <h2>Upload Announcement</h2>
                    <textarea placeholder="Write announcement..."></textarea>
                    <button class="bre-button">Upload</button>
                </div>

                <div id="addlisting" class="tab-panel">
                    <h1>Add Admin Listing</h1>
                    <div class="listing-form">
                        <label>Product Title</label>
                        <input type="text" placeholder="Product Name" id="title">
                        <label>Description</label>
                        <textarea placeholder="Enter description" id="description"></textarea>
                        <label>Category</label>
                        <select id="category">
                            <option> Select </option> 
                        </select>
                        <label>Condition</label>
                        <select id="condition">
                            <option> Select </option>  
                        </select>
                        <label>Price</label>
                        <input type="number" placeholder="0.00" id="price">
                        <label>Upload Image</label>
                        <input type="file" accept="image/*"  id="img1" >
                        <button type="submit" class="bre-button" onclick="saveProductAdmin();">Add Listing</button>
                    </div>
                </div>

                <div id="listingmanager" class="tab-panel">
                    <h1>Listing Manager</h1>

                    <div class="listing-form">
                        <h2>Search Listing</h2>
                        <label>Enter Listing ID</label>
                        <input type="number" id="listingIdInput" placeholder="Enter ID">
                        <button class="bre-button">Load Listing</button>
                    </div>

                    <div class="listing-form" id="listingDetails">
                        <h2>Listing Details</h2>
                        <label>Product Title</label>
                        <input type="text" id="editTitle">

                        <label>Description</label>
                        <textarea id="editDescription"></textarea>

                        <label>Category</label>
                        <select >
                            <option> Select </option> 
                        </select>

                        <label>Condition</label>
                        <select >
                            <option> Select </option> 
                        </select>

                        <label>Price</label>
                        <input type="number" id="editPrice">

                        <label>Status</label>
                        <input type="text" id="editStatus">

                        <div style="margin-top:15px;">
                            <button class="bre-button">Update Listing</button>
                            <button class="danger bre-button">Mark as Sold</button>
                        </div>
                    </div>
                </div>

            </main>
        </div>


        <div class="pop-up-lsiting-view-container" id="viewPopUp">

            <div class="viewx-form-z">
                <span class="close-btn-z" onclick="closeEditPopup()">&times;</span>

                <input id="listingId-viewx" style="display: none" >

                <label>Seller Name</label>
                <input type="text"  id="seller-viewx-up" style="width: 80%" disabled >
                
                <label>Product Title</label>
                <input type="text"  id="title-viewx-up" style="width: 80%" disabled>
                
                <label>Description</label>
                <textarea id="description-viewx-up" style="width: 80%" disabled></textarea>

                <label>Category</label>
                <select >
                       <option id="category-viewx-up"> </option>
                </select>

                <label >Condition</label>
                <select >
                    <option id="condition-viewx-up"> </option>
                </select>

                <label>Price</label>
                <input type="number" id="price-viewx-up" disabled="">

                <div>
                    <label>Product Image</label>
                    <img id="img-viewx" style="width: 170px" />
                </div>

                <button class="bre-button " >Approve Listing</button>
                <button class="danger bre-button " >Decline Listing</button>

            </div>

        </div>


        <footer>
            Developed By Avishka Chamod
        </footer>

        <script src="../assets/js/adminpanel.js"></script>
    </body>
</html>
